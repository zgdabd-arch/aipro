{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/ai-professor-flow.ts"],"sourcesContent":["\n'use server';\n\n/**\n * @fileOverview AI-powered professor tool that provides personalized explanations and examples based on the student's study plan.\n *\n * - aiProfessorTool - A function that offers AI-powered assistance.\n * - AiProfessorToolInput - The input type for the aiProfessorTool function.\n * - AiProfessorToolOutput - The return type for the aiProfessorTool function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\nimport { textToSpeech } from './tts-flow';\n\nconst AiProfessorToolInputSchema = z.object({\n  studentName: z.string().describe('The name of the student.'),\n  gradeLevel: z.number().describe('The grade level of the student.'),\n  country: z.string().describe('The country of the student.'),\n  preferredLearningLanguage: z\n    .string()\n    .describe('The preferred language for learning.'),\n  subject: z.string().describe('The subject the student wants to improve in.'),\n  topic: z.string().describe('The specific topic the student needs help with.'),\n  question: z.string().describe('The specific question the student has.'),\n  studyPlan: z.string().optional().describe('The current study plan for the student. If available, use it to provide context for the answer.'),\n  fileDataUri: z.string().optional().describe(\n    \"An optional file (image or document) provided by the student, as a data URI. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n  ),\n});\nexport type AiProfessorToolInput = z.infer<typeof AiProfessorToolInputSchema>;\n\nconst AiProfessorToolOutputSchema = z.object({\n  explanation: z\n    .string()\n    .describe(\n      'A personalized explanation of the topic, tailored to the student and their study plan.'\n    ),\n  example: z\n    .string()\n    .describe(\n      'A relevant example to illustrate the topic, customized for the student and their study plan.'\n    ),\n  explanationAudio: z\n    .string()\n    .describe('The audio data URI for the explanation.'),\n  exampleAudio: z\n    .string()\n    .describe('The audio data URI for the example.'),\n});\nexport type AiProfessorToolOutput = z.infer<typeof AiProfessorToolOutputSchema>;\n\nexport async function aiProfessorTool(\n  input: AiProfessorToolInput\n): Promise<AiProfessorToolOutput> {\n  return aiProfessorToolFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'aiProfessorToolPrompt',\n  input: {schema: AiProfessorToolInputSchema},\n  output: {schema: z.object({\n      explanation: z.string().describe(\n        'A personalized explanation of the topic, tailored to the student and their study plan.'\n      ),\n      example: z.string().describe(\n        'A relevant example to illustrate the topic, customized for the student and their study plan.'\n      ),\n  })},\n  prompt: `You are an AI Professor specializing in personalized education.\n\n  Your goal is to provide clear explanations and relevant examples to help students understand complex topics.\n  You should tailor the explanations and examples to the student's specific needs, considering their subject, topic, grade level, country, preferred language, and question.\n  \n  {{#if fileDataUri}}\n  The student has uploaded a file. You MUST analyze the contents of this file and use it as the primary context for your answer. The student's question is likely about this file.\n  File: {{media url=fileDataUri}}\n  {{/if}}\n\n  Most importantly, you must consider the student's current study plan to provide context and ensure your answer helps them progress.\n\n  Student Details:\n  - Name: {{{studentName}}}\n  - Grade Level: {{{gradeLevel}}}\n  - Country: {{{country}}}\n  - Preferred Language: {{{preferredLearningLanguage}}}\n\n  Question Details:\n  - Subject: {{{subject}}}\n  - Topic: {{{topic}}}\n  - Question: {{{question}}}\n\n  {{#if studyPlan}}\n  Current Study Plan:\n  ---\n  {{{studyPlan}}}\n  ---\n  {{/if}}\n\n  Based on all this information, provide a clear explanation and a relevant example.`,\n});\n\nconst aiProfessorToolFlow = ai.defineFlow(\n  {\n    name: 'aiProfessorToolFlow',\n    inputSchema: AiProfessorToolInputSchema,\n    outputSchema: AiProfessorToolOutputSchema,\n  },\n  async input => {\n    // Step 1: Get the text-based explanation and example from the main prompt.\n    const { output: textOutput } = await prompt(input);\n    if (!textOutput) {\n      throw new Error('Failed to get a text response from the AI.');\n    }\n\n    // Step 2: Concurrently generate audio for both the explanation and the example.\n    const [explanationAudioResult, exampleAudioResult] = await Promise.all([\n      textToSpeech(textOutput.explanation),\n      textToSpeech(textOutput.example),\n    ]);\n\n    // Step 3: Combine the text output with the generated audio URIs into the final response.\n    return {\n      explanation: textOutput.explanation,\n      example: textOutput.example,\n      explanationAudio: explanationAudioResult.audio,\n      exampleAudio: exampleAudioResult.audio,\n    };\n  }\n);\n"],"names":[],"mappings":";;;;;;IAoDsB,kBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/tutor/tutor-form.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { aiProfessorTool, AiProfessorToolOutput } from \"@/ai/flows/ai-professor-flow\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card, CardContent, CardHeader, CardTitle, CardFooter } from \"@/components/ui/card\";\nimport { Loader2, Sparkles, TimerIcon, Volume2, Paperclip, X, Send } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useUser, useFirestore, useCollection, useMemoFirebase } from \"@/firebase\";\nimport { collection, query, orderBy, limit } from 'firebase/firestore';\nimport { parseISO, format, isAfter } from 'date-fns';\n\nconst formSchema = z.object({\n  subject: z.string().min(2, \"Subject is required.\"),\n  topic: z.string().min(2, \"Topic is required.\"),\n  question: z.string().min(10, \"Please enter a detailed question.\"),\n});\n\ntype FormData = z.infer<typeof formSchema>;\n\nfunction CountdownTimer({ duration }: { duration: number }) {\n    const [timeLeft, setTimeLeft] = useState(duration * 60);\n\n    useEffect(() => {\n        if (timeLeft <= 0) return;\n\n        const intervalId = setInterval(() => {\n            setTimeLeft(timeLeft - 1);\n        }, 1000);\n\n        return () => clearInterval(intervalId);\n    }, [timeLeft]);\n\n    const minutes = Math.floor(timeLeft / 60);\n    const seconds = timeLeft % 60;\n\n    return (\n        <div className=\"flex items-center gap-2 text-lg font-semibold text-primary\">\n            <TimerIcon className=\"h-5 w-5\" />\n            <span>{String(minutes).padStart(2, '0')}:{String(seconds).padStart(2, '0')}</span>\n        </div>\n    );\n}\n\nexport function TutorForm() {\n  const { user } = useUser();\n  const firestore = useFirestore();\n  const [response, setResponse] = useState<AiProfessorToolOutput | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [fileDataUri, setFileDataUri] = useState<string | null>(null);\n  const [fileName, setFileName] = useState<string | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const { toast } = useToast();\n\n  const explanationAudioRef = useRef<HTMLAudioElement>(null);\n  const exampleAudioRef = useRef<HTMLAudioElement>(null);\n\n  const studentProfilesQuery = useMemoFirebase(() => {\n    if (!user || !firestore) return null;\n    return collection(firestore, `users/${user.uid}/studentProfiles`);\n  }, [user, firestore]);\n\n  const { data: studentProfiles, isLoading: isLoadingProfiles } = useCollection(studentProfilesQuery);\n  const studentProfile = studentProfiles?.[0];\n\n  const studyPlanQuery = useMemoFirebase(() => {\n    if (!user || !firestore || !studentProfile) return null;\n    return query(\n        collection(firestore, `users/${user.uid}/studentProfiles/${studentProfile.id}/studyPlans`),\n        orderBy('createdAt', 'desc'),\n        limit(1)\n    );\n  }, [user, firestore, studentProfile]);\n\n  const { data: studyPlans } = useCollection(studyPlanQuery);\n  const latestStudyPlan = studyPlans?.[0];\n\n  const nextSession = useMemoFirebase(() => {\n    if (!latestStudyPlan?.schedule) return null;\n    const now = new Date();\n    return latestStudyPlan.schedule\n        .map(s => ({...s, dateTime: parseISO(`${s.date}T${s.time}`) }))\n        .find(s => isAfter(s.dateTime, now));\n  }, [latestStudyPlan]);\n\n  const form = useForm<FormData>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      subject: \"\",\n      topic: \"\",\n      question: \"\",\n    },\n  });\n  \n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setFileDataUri(e.target?.result as string);\n        setFileName(file.name);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const removeFile = () => {\n    setFileDataUri(null);\n    setFileName(null);\n    if(fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  }\n\n  async function onSubmit(data: FormData) {\n     if (!studentProfile) {\n        toast({\n            variant: \"destructive\",\n            title: \"Profile Not Found\",\n            description: \"Please complete your student profile first.\",\n        });\n        return;\n    }\n    setIsLoading(true);\n    setResponse(null);\n    try {\n      const result = await aiProfessorTool({\n        studentName: studentProfile.name,\n        gradeLevel: studentProfile.age, // Assuming age can be used for grade level context\n        country: studentProfile.country,\n        preferredLearningLanguage: studentProfile.preferredLearningLanguage,\n        studyPlan: latestStudyPlan?.content,\n        fileDataUri: fileDataUri || undefined,\n        ...data,\n      });\n      setResponse(result);\n    } catch (error) {\n      console.error(\"Error with AI Professor:\", error);\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: \"Failed to get help from the professor. Please try again.\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const playAudio = (audioRef: React.RefObject<HTMLAudioElement>) => {\n    if (response?.explanationAudio && response?.exampleAudio) {\n        if (audioRef.current) {\n            audioRef.current.play();\n        }\n    }\n  }\n\n  if (isLoadingProfiles) {\n    return (\n        <div className=\"p-6 text-center\">\n            <Loader2 className=\"mx-auto h-8 w-8 animate-spin text-primary\" />\n            <p className=\"mt-2 text-muted-foreground\">Loading profile...</p>\n        </div>\n    )\n  }\n\n  return (\n    <>\n      {nextSession && (\n        <Card className=\"mb-6 bg-secondary/50\">\n            <CardHeader>\n                <div className=\"flex justify-between items-start\">\n                    <div>\n                        <CardTitle>Next Scheduled Session</CardTitle>\n                    </div>\n                    <CountdownTimer duration={nextSession.duration} />\n                </div>\n            </CardHeader>\n            <CardContent className=\"grid gap-2 text-sm\">\n                <div className=\"grid grid-cols-2\">\n                    <span className=\"font-semibold\">Topic:</span>\n                    <span>{nextSession.topic}</span>\n                </div>\n                <div className=\"grid grid-cols-2\">\n                    <span className=\"font-semibold\">Time:</span>\n                    <span>{format(nextSession.dateTime, 'MMMM d, yyyy')} at {format(nextSession.dateTime, 'p')}</span>\n                </div>\n                <div className=\"grid grid-cols-2\">\n                    <span className=\"font-semibold\">Duration:</span>\n                    <span>{nextSession.duration} minutes</span>\n                </div>\n            </CardContent>\n        </Card>\n      )}\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Ask a Question</CardTitle>\n        </CardHeader>\n        <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)}>\n            <CardContent className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <FormField\n                    control={form.control}\n                    name=\"subject\"\n                    render={({ field }) => (\n                    <FormItem>\n                        <FormLabel>Subject</FormLabel>\n                        <FormControl>\n                        <Input placeholder=\"e.g., Physics\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                    </FormItem>\n                    )}\n                />\n                <FormField\n                    control={form.control}\n                    name=\"topic\"\n                    render={({ field }) => (\n                    <FormItem>\n                        <FormLabel>Topic</FormLabel>\n                        <FormControl>\n                        <Input placeholder=\"e.g., Newtonian Mechanics\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                    </FormItem>\n                    )}\n                />\n                </div>\n                <FormField\n                control={form.control}\n                name=\"question\"\n                render={({ field }) => (\n                    <FormItem>\n                        <FormLabel>Your Question</FormLabel>\n                        <FormControl>\n                            <div className=\"relative\">\n                                <Textarea\n                                    placeholder=\"e.g., 'Can you explain this diagram?' or 'What does this passage mean?'\"\n                                    rows={4}\n                                    className=\"pr-12\"\n                                    {...field}\n                                />\n                                <Button type=\"submit\" size=\"icon\" variant=\"ghost\" className=\"absolute bottom-2 right-2 h-8 w-8 rounded-full hover:bg-transparent focus:bg-transparent\" disabled={isLoading || !studentProfile}>\n                                    {isLoading ? (\n                                        <Loader2 className=\"h-4 w-4 animate-spin\" />\n                                    ) : (\n                                        <Send className=\"h-4 w-4\" />\n                                    )}\n                                    <span className=\"sr-only\">Send</span>\n                                </Button>\n                            </div>\n                        </FormControl>\n                        <FormMessage />\n                    </FormItem>\n                )}\n                />\n                <div>\n                  <FormLabel>Attachment (Optional)</FormLabel>\n                   <div className=\"flex items-center gap-4 mt-2\">\n                      <Button type=\"button\" variant=\"outline\" className=\"hover:bg-transparent focus:bg-transparent\" onClick={() => fileInputRef.current?.click()}>\n                          <Paperclip className=\"mr-2 h-4 w-4\" />\n                          Upload File\n                      </Button>\n                      <input\n                          type=\"file\"\n                          ref={fileInputRef}\n                          onChange={handleFileChange}\n                          className=\"hidden\"\n                          accept=\"image/*,application/pdf,.doc,.docx,.txt\"\n                      />\n                      {fileName && (\n                          <div className=\"flex items-center gap-2 text-sm text-muted-foreground bg-secondary px-3 py-1.5 rounded-md\">\n                              <span>{fileName}</span>\n                              <Button type=\"button\" variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\" onClick={removeFile}>\n                                  <X className=\"h-4 w-4\"/>\n                              </Button>\n                          </div>\n                      )}\n                  </div>\n                </div>\n            </CardContent>\n            </form>\n        </Form>\n      </Card>\n      \n      {isLoading && (\n        <div className=\"p-6 text-center\">\n          <Loader2 className=\"mx-auto h-8 w-8 animate-spin text-primary\" />\n          <p className=\"mt-2 text-muted-foreground\">Your professor is thinking...</p>\n        </div>\n      )}\n      {response && (\n        <div className=\"space-y-6 mt-6\">\n          <Card>\n            <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                    <h3 className=\"text-xl font-bold font-headline\">Explanation</h3>\n                    {response.explanationAudio && (\n                        <Button variant=\"ghost\" size=\"icon\" onClick={() => playAudio(explanationAudioRef)}>\n                            <Volume2 className=\"h-5 w-5\" />\n                            <span className=\"sr-only\">Listen to explanation</span>\n                        </Button>\n                    )}\n                </div>\n            </CardHeader>\n            <CardContent className=\"prose prose-sm max-w-none\">\n              <p>{response.explanation}</p>\n              <audio ref={explanationAudioRef} src={response.explanationAudio} className=\"hidden\" />\n            </CardContent>\n          </Card>\n           <Card>\n            <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                    <h3 className=\"text-xl font-bold font-headline\">Example</h3>\n                     {response.exampleAudio && (\n                        <Button variant=\"ghost\" size=\"icon\" onClick={() => playAudio(exampleAudioRef)}>\n                            <Volume2 className=\"h-5 w-5\" />\n                            <span className=\"sr-only\">Listen to example</span>\n                        </Button>\n                     )}\n                </div>\n            </CardHeader>\n            <CardContent className=\"prose prose-sm max-w-none\">\n              <p>{response.example}</p>\n              <audio ref={exampleAudioRef} src={response.exampleAudio} className=\"hidden\" />\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}